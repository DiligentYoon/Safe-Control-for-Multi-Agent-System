# Gemini 프로젝트 로그

## 요약

이 문서는 Gemini 에이전트와 함께 로봇 탐사 시뮬레이션 프로젝트를 수정하고 개선한 작업 내역을 기록합니다.

## 진행 상황 (2025-09-15)

### 1. 다중 에이전트 구조 리팩토링 및 테스트

- **리더-팔로워 구조 구현**: 리더는 프론티어를 탐색하고, 팔로워는 리더를 따라가거나 리더의 목표점을 공유하는 두 가지 방식을 구현하고 테스트했습니다.
- **CBF 제약조건 강화**: 에이전트 간 최소/최대 거리를 유지하기 위해 동적 CBF 제약조건을 구현하고, 최대 거리 유지는 Hard Constraint로 설정하는 실험을 진행했습니다.

### 2. 발견된 문제점: 팔로워의 제약조건 위반

- **현상**: 리더가 정지했을 때, 팔로워들이 `d_max` 최대 거리 제약(Hard Constraint)을 위반하고 대열을 이탈하여 임의의 방향으로 움직이다가 결국 벽에 충돌하는 심각한 문제가 발견되었습니다.
- **분석**: 디버깅 결과, 팔로워의 목표는 리더 또는 리더의 목표점으로 올바르게 설정되고 있으나, QP 컨트롤러가 어떠한 이유로든 Hard Constraint를 만족시키지 못하는 제어 입력을 생성하고 있음을 확인했습니다. 이는 Soft Constraint 사용 시에도 유사하게 관찰되었습니다.

### 3. 다음 단계: 제약조건 위반 문제 해결 (최우선 과제)

- **목표**: 팔로워 에이전트의 CBF 제약조건이 항상 엄격하게 지켜지도록 컨트롤러 로직을 수정합니다.
- **해결 방향**:
    - **코드 디버깅**: 제약조건이 무시되는 근본적인 원인을 찾기 위해 QP 문제 구성 및 데이터 전달 과정을 심층적으로 디버깅합니다.
    - **새로운 CBF 적용**: 현재 CBF 공식이 Unicycle 모델의 회전(`w`)을 제어하지 못하는 한계를 가질 수 있으므로, 'Look-ahead Point' 방식과 같이 회전 제어가 가능한 더 안정적인 CBF 공식을 도입하는 것을 검토합니다.
- **보류 사항**: 'Formation Control' 컨셉은 현재 보류하며, 제약조건 안정화 문제를 먼저 해결합니다.